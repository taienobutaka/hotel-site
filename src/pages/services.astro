---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="SERVICE | サービス紹介">
  <div class="bg-[#F5EFEA] text-[#483F38]">
    <Header />

    <main>
      <!-- KV -->
      <section class="relative h-[380px] lg:h-[640px] overflow-hidden">
        <img src="/images/services/service-kv.jpg" alt="" class="absolute service-kv-img kv-fade-bg max-w-none object-cover" />
        <div class="absolute inset-0 bg-[#483F38] kv-fade-overlay"></div>
        <div class="absolute inset-0 flex items-center justify-center">
          <h1 class="text-[32px] lg:text-[32px] leading-[48px] tracking-[4.8px] text-white/85 font-['Shippori_Mincho'] translate-y-[20.5px] lg:translate-y-0">
            SERVICE
          </h1>
        </div>
      </section>

      <!-- Service Text -->
      <section class="bg-[#F5EFEA] px-[16px] py-[80px] lg:px-[256px] lg:py-[150px]">
        <div class="mx-auto w-[343px] lg:w-full lg:max-w-[928px] text-center text-[15px] leading-[33px] tracking-[1.6px] text-[#483F38] font-['Shippori_Mincho'] lg:text-[16px] lg:leading-[48px]">
          <span class="hidden lg:block">
            大きな窓から差し込む柔らかな光と、高く広がる空。<br />
            刻一刻と表情を変える自然の移ろいを眺めながら、<br />
            日常の喧騒から解き放たれる贅沢なひとときを。<br />
            当施設では本格的な薪サウナや天然の湧水を用いた露天風呂、<br />
            旬を味わうお食事をご用意し、<br />
            心から満たされるリフレッシュ体験をお約束します。
          </span>
          <span class="lg:hidden">
            <span class="block">大きな窓から差し込む柔らかな光と、</span>
            <span class="block">高く広がる空。</span>
            <span class="block">刻一刻と表情を変える</span>
            <span class="block">自然の移ろいを眺めながら、</span>
            <span class="block">日常の喧騒から解き放たれる</span>
            <span class="block">贅沢なひとときを。</span>
            <span class="block">当施設では本格的な薪サウナや</span>
            <span class="block">天然の湧水を用いた露天風呂、</span>
            <span class="block">旬を味わうお食事をご用意し、</span>
            <span class="block">心から満たされる</span>
            <span class="block">リフレッシュ体験をお約束します。</span>
          </span>
        </div>
      </section>

      <!-- Cover Image -->
      <section class="relative h-[192px] lg:h-[501px] overflow-hidden">
        <img
          src="/images/services/service-cover.jpg"
          alt=""
          class="fade-target service-cover-img absolute max-w-none object-cover"
        />
      </section>

      <!-- Service Main -->
      <section class="bg-white px-[16px] pt-[80px] pb-[40px] lg:px-0 lg:py-[150px]">
        <div class="mx-auto w-full lg:max-w-[960px] xl:max-w-[1232px] space-y-[80px] lg:space-y-[120px]">
          <!-- Sauna -->
          <div>
            <div class="lg:hidden w-[343px] mx-auto">
              <div class="flex flex-col gap-[24px] text-left">
                <div class="space-y-[8px]">
                  <p class="text-[12px] leading-[48px] tracking-[4.8px] text-[#B99563] font-['Shippori_Mincho']">PRIVATE SAUNA</p>
                  <h3 class="flex h-[52px] items-center text-[24px] leading-[32px] tracking-[2.4px] text-[#483F38] font-semibold font-['Shippori_Mincho']">プライベートサウナ</h3>
                </div>
                <p class="text-[14px] leading-[30px] tracking-[1.4px] text-[#483F38] font-['Shippori_Mincho']">
                  <span class="block">パチパチと薪が爆ぜる音だけが響く空間で、五感を研ぎ澄ますひととき。</span>
                  <span class="block">水風呂から外気浴まで、計算し尽くされた導線があなたを深い休息へと誘います。</span>
                  <span class="block">綺麗に整えられたプライベートエリアで、誰にも邪魔されない至高の贅沢を。</span>
                  <span class="block">&nbsp;</span>
                  <span class="block">屋外で湯に浸かり、サウナでととのう——自然の気配とともに過ごすひとときは、この宿ならではの魅力です。</span>
                </p>
              </div>
              <div class="fade-target mt-[40px] sauna-main-sp">
                <img src="/images/services/sauna-main.jpg" alt="プライベートサウナ" class="sauna-main-sp-img" />
              </div>
              <div class="fade-target mt-[27px] ml-[149px] sauna-sub-sp">
                <img src="/images/services/sauna-sub.jpg" alt="" class="sauna-sub-sp-img" />
              </div>
            </div>

            <div class="hidden lg:flex lg:flex-row lg:items-center lg:gap-[40px] xl:gap-[100px] service-pc-row">
              <div class="fade-target sauna-main h-[292px] w-full lg:h-[813px] lg:w-[480px] xl:w-[563px] lg:flex-shrink-0 service-pc-media">
                <img src="/images/services/sauna-main.jpg" alt="プライベートサウナ" class="sauna-main-img" />
              </div>
              <div class="lg:w-[420px] xl:w-[569px] flex flex-col gap-[24px] service-pc-text">
                <div class="space-y-[8px]">
                  <p class="text-[12px] leading-[48px] tracking-[4.8px] text-[#B99563] font-['Shippori_Mincho']">PRIVATE SAUNA</p>
                  <h3 class="flex h-[52px] items-center text-[24px] leading-[32px] tracking-[2.4px] text-[#483F38] font-semibold font-['Shippori_Mincho']">プライベートサウナ</h3>
                </div>
                <p class="text-[14px] leading-[30px] tracking-[1.4px] text-[#475569] font-['Shippori_Mincho'] lg:w-full xl:w-[580px] whitespace-pre-line">
                  パチパチと薪が爆ぜる音だけが響く空間で、五感を研ぎ澄ますひととき。
                  水風呂から外気浴まで、計算し尽くされた導線があなたを深い休息へと誘います。
                  綺麗に整えられたプライベートエリアで、誰にも邪魔されない至高の贅沢を。

                  屋外で湯に浸かり、サウナでととのう——自然の気配とともに過ごすひとときは、 
                  この宿ならではの魅力です。
                </p>
              </div>
            </div>

            <div class="hidden lg:block lg:mt-[40px] lg:ml-auto lg:w-[476px]">
              <div class="fade-target sauna-sub h-[220px] w-full lg:h-[369px]">
                <img src="/images/services/sauna-sub.jpg" alt="" class="sauna-sub-img" />
              </div>
            </div>
          </div>

          <!-- Onsen -->
          <div>
            <div class="lg:hidden pt-[40px] pb-0">
              <div class="w-[343px] mx-auto flex flex-col gap-[24px] text-left">
                <div class="space-y-[8px]">
                  <p class="text-[12px] leading-[48px] tracking-[4.8px] text-[#B99563] font-['Shippori_Mincho']">ONSEN</p>
                  <h3 class="flex h-[52px] items-center text-[24px] leading-[32px] tracking-[2.4px] text-[#483F38] font-semibold font-['Shippori_Mincho']">温泉</h3>
                </div>
                <p class="text-[14px] leading-[30px] tracking-[1.4px] text-[#483F38] font-['Shippori_Mincho'] whitespace-pre-line">
                  青島の地から汲み上げた、
                  自然由来の成分を含む湧き水を使用した露天風呂。
                  開放的な空間で、心身ともに癒しのひとときをお楽しみいただけます。
                </p>
              </div>
              <div class="fade-target mt-[87px] onsen-images-sp mx-auto">
                <div class="onsen-main-window">
                  <img src="/images/services/onsen-main.jpg" alt="温泉" class="onsen-main-sp-img" />
                </div>
                <div class="onsen-sub-window">
                  <img src="/images/services/onsen-sub.jpg" alt="" class="onsen-sub-sp-img" />
                </div>
              </div>
            </div>

            <div class="hidden lg:flex lg:flex-row lg:items-center lg:gap-[40px] xl:gap-[100px] service-pc-row">
              <div class="lg:w-[360px] xl:w-[435px] flex flex-col gap-[24px] service-pc-text">
                <div class="space-y-[8px]">
                  <p class="text-[12px] leading-[48px] tracking-[4.8px] text-[#B99563] font-['Shippori_Mincho']">ONSEN</p>
                  <h3 class="flex h-[52px] items-center text-[24px] leading-[32px] tracking-[2.4px] text-[#483F38] font-semibold font-['Shippori_Mincho']">温泉</h3>
                </div>
                <p class="text-[14px] leading-[30px] tracking-[1.4px] text-[#475569] font-['Shippori_Mincho'] lg:w-full xl:w-[398px] whitespace-pre-line">
                  青島の地から汲み上げた、
                  自然由来の成分を含む湧き水を使用した露天風呂。
                  開放的な空間で、心身ともに癒しのひとときをお楽しみいただけます。
                </p>
              </div>
              <div class="fade-target onsen-main h-[292px] w-full lg:h-[773px] lg:w-[520px] xl:w-[768px] lg:flex-shrink-0 service-pc-media">
                <img src="/images/services/onsen-main.jpg" alt="温泉" class="onsen-main-img" />
              </div>
            </div>
            <div class="hidden lg:block lg:mt-[40px] lg:ml-0 lg:w-[495px]">
              <div class="fade-target onsen-sub h-[220px] w-full lg:h-[346px]">
                <img src="/images/services/onsen-sub.jpg" alt="" class="onsen-sub-img" />
              </div>
            </div>
          </div>

          <!-- Food -->
          <div class="lg:pt-[164px]">
            <div class="lg:hidden pt-[40px] pb-[80px] -mt-[40px]">
              <div class="w-[343px] mx-auto flex flex-col gap-[24px] text-left">
                <div class="space-y-[8px]">
                  <p class="text-[12px] leading-[48px] tracking-[4.8px] text-[#B99563] font-['Shippori_Mincho']">FOOD</p>
                  <h3 class="flex h-[52px] items-center text-[24px] leading-[32px] tracking-[2.4px] text-[#483F38] font-semibold font-['Shippori_Mincho']">お食事</h3>
                </div>
                <p class="text-[14px] leading-[30px] tracking-[1.4px] text-[#483F38] font-['Shippori_Mincho'] whitespace-pre-line">
                  県内より厳選した特産品を、オールインクルーシブの形でご提供。
                  洗練されたダイニングでの調理も、テラスでの開放的なBBQも思いのまま。
                  選び抜かれた生産者の想いを、一棟貸しの邸宅で心ゆくまで味わってください。
                </p>
              </div>
              <div class="fade-target mt-[40px] pt-[33px] food-images-sp mx-auto">
                <div class="food-main-window">
                  <img src="/images/services/food-main.jpg" alt="お食事" class="food-main-sp-img" />
                </div>
                <div class="food-sub-window">
                  <img src="/images/services/food-sub.jpg" alt="" class="food-sub-sp-img" />
                </div>
              </div>
            </div>

            <div class="hidden lg:flex lg:flex-row lg:items-center lg:gap-[40px] xl:gap-[100px] service-pc-row">
              <div class="fade-target food-main h-[292px] w-full lg:h-[703px] lg:w-[480px] xl:w-[612px] lg:flex-shrink-0 service-pc-media">
                <img src="/images/services/food-main.jpg" alt="お食事" class="food-main-img" />
              </div>
              <div class="lg:w-[420px] xl:w-[569px] flex flex-col gap-[24px] service-pc-text">
                <div class="space-y-[8px]">
                  <p class="text-[12px] leading-[48px] tracking-[4.8px] text-[#B99563] font-['Shippori_Mincho']">FOOD</p>
                  <h3 class="flex h-[52px] items-center text-[24px] leading-[32px] tracking-[2.4px] text-[#483F38] font-semibold font-['Shippori_Mincho']">お食事</h3>
                </div>
                <p class="text-[14px] leading-[30px] tracking-[1.4px] text-[#475569] font-['Shippori_Mincho'] lg:w-full xl:w-[580px] whitespace-pre-line">
                  県内より厳選した特産品を、オールインクルーシブの形でご提供。
                  洗練されたダイニングでの調理も、テラスでの開放的なBBQも思いのまま。
                  選び抜かれた生産者の想いを、一棟貸しの邸宅で心ゆくまで味わってください。
                </p>
              </div>
            </div>
            <div class="hidden lg:block lg:mt-[40px] lg:ml-auto lg:w-[447px]">
              <div class="fade-target food-sub h-[220px] w-full lg:h-[436px]">
                <img src="/images/services/food-sub.jpg" alt="" class="food-sub-img" />
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Option -->
      <section class="bg-[#F5EFEA] px-[16px] py-[80px] lg:px-[24px] xl:px-[232px] lg:pt-[70px] lg:pb-[150px]">
        <div class="mx-auto w-[343px] space-y-[40px] lg:mx-auto lg:w-full lg:max-w-[976px] lg:space-y-[80px]">
          <div class="text-center space-y-[16px] text-[#436C5E] font-['Shippori_Mincho'] lg:-mt-[10px]">
            <p class="text-[32px] leading-[40px] tracking-[3.6px] font-semibold">OPTION</p>
            <p class="text-[14px] leading-[20px] tracking-[1.4px]">特別な体験をプラスする</p>
          </div>

          <div class="flex flex-col items-center gap-[32px] lg:flex-row lg:items-stretch">
            <div class="w-full overflow-hidden rounded-[8px] bg-white lg:w-[304px] lg:h-[478px] flex flex-col">
              <div class="fade-target option-img option-img-1 h-[256px] w-full">
                <img src="/images/services/option-1.jpg" alt="温泉" class="option-img-inner option-img-inner-1" />
              </div>
              <div class="px-[26px] py-[32px] lg:h-[222px]">
                <p class="text-center text-[16px] leading-[48px] tracking-[1.6px] text-[#483F38] font-['Shippori_Mincho']">温泉</p>
                <p class="mt-[16px] w-full text-left text-[14px] leading-[22.75px] tracking-[2.1px] text-[#475569] font-['Shippori_Mincho'] lg:w-[252px]">
                  青島の地から汲み上げた、自然由来の成分を含む湧き水を使用。開放的な屋外スペースで、心身を癒す露天風呂を体験いただけます。
                </p>
              </div>
            </div>
            <div class="w-full overflow-hidden rounded-[8px] bg-white lg:w-[304px] lg:h-[478px] flex flex-col">
              <div class="fade-target option-img option-img-2 h-[256px] w-full">
                <img src="/images/services/option-2.jpg" alt="プライベートBBQ" class="option-img-inner option-img-inner-2" />
              </div>
              <div class="px-[26px] py-[32px] lg:h-[222px]">
                <p class="text-center text-[16px] leading-[48px] tracking-[1.6px] text-[#483F38] font-['Shippori_Mincho']">プライベートBBQ</p>
                <p class="mt-[16px] w-full text-left text-[14px] leading-[22.75px] tracking-[2.1px] text-[#475569] font-['Shippori_Mincho'] lg:w-[252px]">
                  プロ仕様の機材一式を無料で貸し出しております。宮崎の厳選された特産品を、プライベートなテラスで気兼ねなくお楽しみください。
                </p>
              </div>
            </div>
            <div class="w-full overflow-hidden rounded-[8px] bg-white lg:w-[304px] lg:h-[478px] flex flex-col">
              <div class="fade-target option-img option-img-3 h-[256px] w-full">
                <img src="/images/services/option-3.jpg" alt="ファットバイクのレンタル" class="option-img-inner option-img-inner-3" />
              </div>
              <div class="px-[26px] py-[32px] lg:h-[222px]">
                <p class="text-center text-[16px] leading-[48px] tracking-[1.6px] text-[#483F38] font-['Shippori_Mincho']">ファットバイクのレンタル</p>
                <p class="mt-[16px] w-full text-left text-[14px] leading-[22.75px] tracking-[2.1px] text-[#475569] font-['Shippori_Mincho'] lg:w-[252px]">
                  砂浜や未舗装路も軽快に走行できるファットバイクをご用意。宮崎の海岸線や周辺スポットを、ご自身のペースで自由に探索いただけます。
                </p>
              </div>
            </div>
          </div>

          <div class="flex justify-center">
            <a href="/service-option-detail" class="inline-flex h-[43px] w-[290px] items-center justify-center rounded-full border border-transparent bg-[#436C5E] text-[14px] leading-[22.75px] tracking-[2.1px] text-white font-['Shippori_Mincho'] hover:bg-[#3b5e52] transition-colors lg:h-auto lg:w-auto lg:px-[24px] lg:py-[12px]">
              オプションの詳細はこちら
            </a>
          </div>
        </div>
      </section>

      <!-- Reservation Section - レスポンシブ対応 -->
      <section class="relative lg:py-[150px] lg:px-[272px] py-[80px] px-[16px]">
        <div class="absolute inset-0 overflow-hidden">
          <img
            src="/images/reservation-bg.jpg"
            alt=""
            class="hidden lg:block absolute inset-0 w-full h-full object-cover"
          />
          <img
            src="/images/reservation-bg.jpg"
            alt=""
            class="lg:hidden absolute inset-0 w-full h-full object-cover object-[position:34.8%_0%]"
          />
        </div>
        <div class="absolute inset-0 bg-black/16 mix-blend-multiply"></div>

        <div class="relative z-10 w-full">
          <div class="flex flex-col lg:gap-[32px] gap-[32px] items-center">
            <div class="text-center space-y-[8px]">
              <h2 class="lg:text-[32px] lg:leading-[54px] lg:tracking-[3.6px] text-[32px] leading-[54px] tracking-[3.6px] font-semibold text-white font-['Shippori_Mincho']">RESERVATION</h2>
              <p class="text-[14px] leading-[20px] tracking-[1.4px] text-[#CBD5E1] font-['Shippori_Mincho']">ご予約</p>
            </div>

            <div class="lg:text-[16px] lg:leading-[32px] text-[15px] leading-[27px] tracking-[1.6px] text-[#E2E8F0] font-['Shippori_Mincho'] text-center whitespace-pre-line lg:max-w-[896px] max-w-full">オンラインで簡単に
空室確認・ご予約が可能です。
特別なひとときをお過ごしください。</div>

            <div class="flex justify-center">
              <a href="/404" class="bg-white text-[#436C5E] rounded-[6px] font-medium leading-[26px] hover:bg-[#436C5E] hover:text-white transition-all duration-300 font-['Shippori_Mincho'] lg:w-[404px] w-[230px] h-[50px] text-[16px] tracking-[1.6px] flex items-center justify-center">
                ご予約はこちら
              </a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <Footer />
  </div>
</Layout>

<style>

  .scroll-fade {
    opacity: 0;
    transform: translateY(12px);
    transition: opacity 5s ease, transform 5s ease;
    will-change: opacity, transform;
  }

  .scroll-fade.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .kv-fade-bg {
    opacity: 0;
    transition: opacity 5s ease;
    will-change: opacity;
  }

  .kv-fade-bg.is-visible {
    opacity: 1;
  }

  .kv-fade-overlay {
    opacity: 0;
    transition: opacity 5s ease;
    will-change: opacity;
  }

  .kv-fade-overlay.is-visible {
    opacity: 0.39;
  }

  .service-cover-img {
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    object-fit: cover;
    object-position: center;
  }

  .service-kv-img {
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    object-fit: cover;
    object-position: center;
  }

  .reservation-bg {
    background-image: url('/images/rooms/reservation-bg.jpg');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
  }

  .sauna-main-sp,
  .sauna-sub-sp {
    position: relative;
    overflow: hidden;
  }

  .sauna-main-sp {
    width: 197.71px;
    height: 313px;
  }

  .sauna-main-sp-img {
    position: absolute;
    width: 451.32px;
    height: 300.92px;
    left: -65.08px;
    top: -4.77px;
    object-fit: cover;
    max-width: none;
  }

  .sauna-sub-sp {
    width: 193.68px;
    height: 149.99px;
  }

  .sauna-sub-sp-img {
    position: absolute;
    width: 195.7px;
    height: 293.51px;
    left: -2.06px;
    top: -55.39px;
    object-fit: cover;
    max-width: none;
  }

  .onsen-images-sp {
    position: relative;
    width: 343px;
    height: 334px;
  }

  .onsen-main-window,
  .onsen-sub-window {
    position: absolute;
    overflow: hidden;
  }

  .onsen-main-window {
    width: 240px;
    height: 241.56px;
    left: 103px;
    top: -47px;
  }

  .onsen-main-sp-img {
    position: absolute;
    width: 425.3px;
    height: 283.57px;
    left: -37.92px;
    top: -68.1px;
    object-fit: cover;
    max-width: none;
  }

  .onsen-sub-window {
    width: 165.95px;
    height: 116px;
    left: 0;
    top: 218px;
  }

  .onsen-sub-sp-img {
    position: absolute;
    width: 232.21px;
    height: 154.83px;
    left: -14.78px;
    top: -29.52px;
    object-fit: cover;
    max-width: none;
  }

  .food-images-sp {
    position: relative;
    width: 343px;
    height: 560px;
  }

  .food-main-window,
  .food-sub-window {
    position: absolute;
    overflow: hidden;
  }

  .food-main-window {
    width: 265px;
    height: 304.4px;
    left: 0;
    top: 0;
  }

  .food-main-sp-img {
    position: absolute;
    width: 515.07px;
    height: 343.42px;
    left: -115.75px;
    top: -32.48px;
    object-fit: cover;
    max-width: none;
  }

  .food-sub-window {
    width: 191.4px;
    height: 172.42px;
    left: 150.9px;
    top: 331px;
  }

  .food-sub-sp-img {
    position: absolute;
    width: 331.2px;
    height: 220.83px;
    left: -83.62px;
    top: -13.68px;
    object-fit: cover;
    max-width: none;
  }

  .sauna-main,
  .sauna-sub,
  .onsen-main,
  .onsen-sub,
  .food-main,
  .food-sub,
  .option-img {
    position: relative;
    overflow: hidden;
  }

  .sauna-main-img,
  .sauna-sub-img,
  .onsen-main-img,
  .onsen-sub-img,
  .food-main-img,
  .food-sub-img,
  .option-img-inner {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    max-width: none;
  }

  .option-img-inner-1 {
    width: 488px;
    height: 731px;
    left: -55px;
    top: -394px;
    right: auto;
    bottom: auto;
  }

  .option-img-inner-2 {
    width: 670px;
    height: 446px;
    left: -215px;
    top: -147px;
    right: auto;
    bottom: auto;
  }

  .option-img-inner-3 {
    width: 333px;
    height: 499.44px;
    left: -15px;
    top: -123px;
    right: auto;
    bottom: auto;
  }

  @media (max-width: 1023px) {
    .option-img-inner-1,
    .option-img-inner-2,
    .option-img-inner-3 {
      width: 100%;
      height: 100%;
      left: 0;
      top: 0;
      right: auto;
      bottom: auto;
    }
  }

  @media (min-width: 1024px) {
    .service-kv-img {
      width: 100%;
      height: 100%;
      left: 0;
      top: 0;
      object-fit: cover;
      object-position: center;
    }

    .service-cover-img {
      width: 1440px;
      height: 960px;
      left: 0;
      top: -110px;
    }

    .sauna-main-img {
      width: 1228px;
      height: 818px;
      left: -202px;
      top: -6px;
    }

    .sauna-sub-img {
      width: 481px;
      height: 722px;
      left: -5px;
      top: -136px;
    }

    .onsen-main-img {
      width: 1361px;
      height: 907px;
      left: -451px;
      top: -68px;
    }

    .onsen-sub-img {
      width: 693px;
      height: 462px;
      left: -44px;
      top: -88px;
    }

    .food-main-img {
      width: 1189px;
      height: 793px;
      left: -267px;
      top: -75px;
    }

    .food-sub-img {
      width: 806px;
      height: 537px;
      left: -211px;
      top: -24px;
    }

    .reservation-bg {
      background-size: cover;
      background-position: center;
    }

    .option-img-1 {
      background-size: 569px 854px;
      background-position: -150px -320px;
    }

    .option-img-2 {
      background-size: 670px 446px;
      background-position: -55px -147px;
    }

    .option-img-3 {
      background-size: 348px 521px;
      background-position: -15px -123px;
    }

  }
</style>

<script>
  const initServiceFade = () => {
    const targets = Array.from(document.querySelectorAll('.fade-target'));
    targets.forEach((el) => el.classList.add('scroll-fade'));

    const kvBg = document.querySelector('.kv-fade-bg');
    const kvOverlay = document.querySelector('.kv-fade-overlay');

    if (kvBg) kvBg.classList.remove('is-visible');
    if (kvOverlay) kvOverlay.classList.remove('is-visible');

    if (targets.length) {
      const observer = new IntersectionObserver(
        (entries, obs) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
              obs.unobserve(entry.target);
            }
          });
        },
        { root: null, rootMargin: '0px 0px -10% 0px', threshold: 0 }
      );
      targets.forEach((el) => observer.observe(el));
    }

    requestAnimationFrame(() => {
      requestAnimationFrame(() => {
        if (kvBg) kvBg.classList.add('is-visible');
        if (kvOverlay) kvOverlay.classList.add('is-visible');
      });
    });
  };

  document.addEventListener('DOMContentLoaded', initServiceFade);
  window.addEventListener('pageshow', initServiceFade);
</script>